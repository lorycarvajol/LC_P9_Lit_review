{% extends 'reviews/base.html' %}

{% block title %}Répondre à la Demande de Critique{% endblock %}

{% block content %}
<div class="container mt-5">
    <h2>Répondre à la Demande de Critique</h2>
    <div class="card mb-4">
        <div class="card-body">
            <h5 class="card-title">{{ ticket.title }}</h5>
            <p class="card-text">{{ ticket.description }}</p>
            {% if ticket.image %}
                <img src="{{ ticket.image.url }}" alt="{{ ticket.title }}" class="img-fluid mb-2" style="max-height: 200px; object-fit: cover;">
            {% endif %}
            <p class="text-muted">Posté par {{ ticket.user.username }} le {{ ticket.time_created }}</p>
        </div>
    </div>
    <form method="post">
        {% csrf_token %}
        <div class="form-group">
            <label for="headline">Titre</label>
            <input type="text" id="headline" name="headline" class="form-control" required>
        </div>
        <div class="form-group">
            <label>Note</label><br>
            {% for i in form.rating.field.choices %}
                <div class="form-check form-check-inline">
                    <input type="radio" id="rating{{ forloop.counter0 }}" name="rating" value="{{ i.0 }}" class="form-check-input" {% if i.0 == form.rating.value %}checked{% endif %}>
                    <label for="rating{{ forloop.counter0 }}" class="form-check-label">{{ i.1 }}</label>
                </div>
            {% endfor %}
        </div>
        <div class="form-group">
            <label for="body">Commentaire</label>
            <textarea id="body" name="body" rows="4" class="form-control" required>{{ form.body.value }}</textarea>
        </div>
        <button type="submit" class="btn btn-primary">Envoyer</button>
    </form>
</div>
{% endblock %}
